### Hibernate的悲观锁和乐观锁

悲观锁：通常依赖于数据库机制，在整修过程中将数据库锁定，其它任何用户都不能读取或修改，悲观锁一般是由数据库机制来做到的。sql中通常采用for update语句加锁。
在hibernate中使用悲观锁一般使用LockMode.UPGRADE，如果使用悲观锁，那么lazy(懒加载)无效。

乐观锁：不是锁，是一种冲突检测机制，乐观锁的并发性较好，因为我改的时候，别人可随便修改乐观锁的实现方式：常用的是版本的方式（每个数据表中有一个版本字段version,某一个用户更新数据库后，版本号+1,另一个用户修改后再+1,当用户更新发现数据库当前版本号与读取数据时版本号不一致，等于或小于数据库版本号则更新不了）
hibernate使用乐观锁需要在映射文件(*.hbm.xml)中配置才可生效。

